---
---

<section class="bathtub-showcase premium-stride-section">
  <div class="container relative-z">
    <div class="showcase-grid stride-layout">
      <!-- Image Layer (Background Stride) -->
      <div class="image-col stride-image-wrapper">
        <img 
          src="/badkuip-hero.png" 
          alt="Luxe Vrijstaand Bad" 
          class="bathtub-image premium-image"
        />
        <div class="steam-effect"></div>
      </div>

      <!-- Content Layer (Foreground Glass Stride) -->
      <div class="content-col stride-card-glass">
        <span class="eyebrow brand-accent-text">Wellness & Comfort</span>
        <h2 class="title-elegant text-dark">Uw Oase van <span>Rust</span></h2>
        <div class="brand-accent-line"></div>
        <p class="text-dark-muted">Ervaar de ultieme ontspanning in uw eigen badkamer. Wij realiseren wellness ruimtes met oog voor detail, comfort en esthetiek.</p>
        <a href="/offerte-aanvragen" class="btn-pill btn-pill-outline mt-4">Vraag advies aan &rarr;</a>
      </div>
    </div>
  </div>
</section>

<style>
  .premium-stride-section {
    padding: 8rem 0;
    background-color: #f7f7f6; /* Lichte premium brand achtergrond */
    position: relative;
    overflow: hidden;
  }

  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 2rem;
    width: 100%;
  }

  .stride-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0; /* Overlap wordt met negative margins geregeld */
    align-items: center;
    position: relative;
  }

  /* --- AFBEELDING LAAG --- */
  .image-col {
    position: relative;
    z-index: 1;
    width: 120%; /* Bres eruit */
    margin-left: -10%;
    border-radius: var(--radius-lg, 12px);
    overflow: hidden; /* Houdt shadow en clip netjes */
    box-shadow: 0 25px 50px rgba(0,0,0,0.1);
    perspective: 1000px; /* Belangrijk voor 3D rotate effect */
    will-change: transform;
  }

  .premium-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    aspect-ratio: 16/10;
  }

  /* --- CONTENT GLASS LAAG (STRIDE) --- */
  .stride-card-glass {
    position: relative;
    z-index: 2;
    margin-left: -15%; /* Overlap over de foto heen */
    background: rgba(255, 255, 255, 0.85); /* Wit frosted glass vibe */
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255,255,255,1);
    padding: 4rem 3.5rem;
    border-radius: var(--radius-lg, 12px);
    box-shadow: 0 15px 35px rgba(0,0,0,0.08); /* Zachte schaduw op lichte bg */
    
    /* Vaste zichtbaarheid en native animatie in plaats van JS */
    opacity: 0; 
    transform: translateX(50px);
    animation: fadeSlideIn 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: 0.2s; /* Korte pauze voor scroll */
  }

  @keyframes fadeSlideIn {
    0% {
      opacity: 0;
      transform: translateX(50px);
    }
    100% {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* --- TYPOGRAFIE & ACCENTEN --- */
  .brand-accent-text {
    font-family: var(--font-body);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-size: 0.85rem;
    color: var(--color-primary);
    display: block;
    margin-bottom: 1rem;
  }

  .title-elegant {
    font-family: var(--font-heading, sans-serif);
    font-size: 3rem;
    font-weight: 500;
    line-height: 1.15;
    color: #1a1a1a;
    letter-spacing: -0.02em;
    margin-bottom: 1rem;
  }

  .brand-accent-line {
    width: 40px;
    height: 4px;
    background: var(--color-primary);
    border-radius: 2px;
    margin-bottom: 2rem;
  }

  .text-dark-muted {
    font-family: var(--font-body);
    font-size: 1.05rem;
    line-height: 1.7;
    color: #444;
    margin-bottom: 2.5rem;
  }

  /* --- HERO BUTTON STYLING --- */
  .btn-pill {
    display: inline-flex;
    padding: 0.8rem 1.8rem;
    border-radius: 40px;
    text-decoration: none;
    font-family: var(--font-heading, sans-serif);
    font-weight: 600;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
  }

  .btn-pill:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  .btn-pill-outline {
    background-color: transparent;
    border: 1px solid #1a1a1a;
    color: #1a1a1a;
  }
  
  .btn-pill-outline:hover {
    background-color: rgba(0,0,0,0.05);
  }

  .mt-4 {
    margin-top: 1rem;
  }

  /* Image Column & Animation */
  /* --- STEM EFFECT --- */
  .steam-effect {
    position: absolute;
    bottom: -10%;
    left: 0;
    width: 100%;
    height: 40%;
    background: linear-gradient(to top, rgba(255,255,255,0.4), transparent);
    filter: blur(20px);
    opacity: 0.6;
    pointer-events: none;
  }

  /* --- RESPONSIVE LAYOUT --- */
  @media (max-width: 1024px) {
    .premium-stride-section {
      padding: 4rem 0;
    }
    .stride-layout {
      grid-template-columns: 1fr;
    }
    .image-col {
      width: 100%;
      margin-left: 0;
      margin-bottom: -3rem; /* Zorgt dat de glass card ook op mobiel overlapt netwerk! */
    }
    .stride-card-glass {
      margin-left: 0;
      padding: 3rem 2rem;
    }
    h2.title-elegant {
      font-size: 2.5rem;
    }
  }

  @media (max-width: 768px) {
    .premium-stride-section {
      padding: 3rem 0;
    }
    h2.title-elegant {
      font-size: 2rem;
    }
    .stride-card-glass {
      padding: 2.5rem 1.5rem;
    }
    .image-col {
      margin-bottom: -2rem;
    }
  }
</style>

<script>
  // --- HEAVY PHYSICS ANIMATION FOR THE BATHTUB IMAGE ONLY ---
  const section = document.querySelector('.bathtub-showcase');
  const imageWrapper = document.querySelector('.stride-image-wrapper') as HTMLElement;

  if (section && imageWrapper) {
    let currentX = -100; // Start the image sligtly left
    let targetX = -100;

    function lerp(start: number, end: number, factor: number) {
      return start + (end - start) * factor;
    }

    function animatePhysics() {
      if (!section || !imageWrapper) return;

      const rect = section.getBoundingClientRect();
      const windowHeight = window.innerHeight;
      
      const sectionCenter = rect.top + (rect.height / 2);
      const windowCenter = windowHeight / 2;
      
      const distFromCenter = sectionCenter - windowCenter;
      
      // Calculate target position based on scroll distance from center
      // When scrolling down, distFromCenter goes from + to -
      // Divided by 15 means it slides opposite of scroll roughly 1px per 15px scrolldistance
      targetX = -(distFromCenter / 15);
      
      // Clamp values so it doesn't fly off screen drastically
      const isMobile = window.innerWidth <= 1024;
      const maxSlide = isMobile ? 30 : 100; 
      targetX = Math.max(-maxSlide, Math.min(maxSlide, targetX));

      // Apply heavy lerp friction (0.05 is slow and buttery)
      currentX = lerp(currentX, targetX, 0.05);

      // Add a dynamic 3D twist that responds to the sliding
      // CurrentX ranges from ~ -100 to 100 max. So factor scales angle.
      const rotateY = currentX * -0.15; 
      
      // We apply it only to image. Note that we don't control opacity, 
      // the CSS controls that for the card. The image is always 100% opacity.
      imageWrapper.style.transform = `translateX(${currentX}px) rotateY(${rotateY}deg)`;
      
      requestAnimationFrame(animatePhysics);
    }

    // Start loop
    requestAnimationFrame(animatePhysics);
  }
</script>
