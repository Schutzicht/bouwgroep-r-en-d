---
const currentYear = new Date().getFullYear();
---

<footer class="main-footer">
  <div class="watermark-logo">
    <img src="https://www.rd-bouwgroep.nl/wp-content/uploads/2024/06/RenD-hoofdlogo.png" alt="R&D Watermark" />
  </div>

  <div class="container">
    <div class="footer-grid">
      <!-- Col 1: Brand & Intro -->
      <div class="footer-col brand-col">
        <a href="/" class="footer-logo">
          <img src="https://www.rd-bouwgroep.nl/wp-content/uploads/2024/06/RenD-hoofdlogo.png" alt="R&D Bouwgroep" />
        </a>
        <p class="brand-desc">
          Uw specialist voor exclusieve badkamers, tegelwerken en wellness aan huis. 
          Vakmanschap en passie in elk detail.
        </p>
        <div class="social-links">
          <a href="https://www.facebook.com/p/Bouwgroep-RD-61554868521265/" target="_blank" aria-label="Facebook"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a>
          <a href="https://www.instagram.com/bouwgroeprend/" target="_blank" aria-label="Instagram"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a>
        </div>
      </div>

      <!-- Col 2: Quick Links -->
      <div class="footer-col links-col">
        <h3>Navigatie</h3>
        <ul>
          <li><a href="/#about">Over Ons</a></li>
          <li><a href="/#services">Diensten</a></li>
          <li><a href="/#projects">Projecten</a></li>
          <li><a href="/vacatures">Vacatures</a></li>
          <li><a href="/#contact">Contact</a></li>
        </ul>
      </div>

      <!-- Col 3: Contact Info -->
      <div class="footer-col contact-col">
        <h3>Contact</h3>
        <ul class="contact-list">
          <li>
            <span class="icon">
              <!-- Map Pin -->
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
            </span>
            <span>Ambachtsweg 4<br>4387 BN Vlissingen</span>
          </li>
          <li>
            <span class="icon">
              <!-- Phone -->
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
            </span>
            <a href="tel:+31630301276">+31 6 30 301 276</a>
          </li>
          <li>
            <span class="icon">
              <!-- Mail -->
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
            </span>
            <a href="mailto:info@rd-bouwgroep.nl">info@rd-bouwgroep.nl</a>
          </li>
          <li>
            <span class="icon">
              <!-- Clock -->
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            </span>
            <span>Ma - Vr: 08:00 - 17:00</span>
          </li>
        </ul>
      </div>

      <!-- Col 4: Newsletter & Map -->
      <div class="footer-col extra-col">
        <h3>Blijf op de hoogte</h3>
        <p>Ontvang inspiratie voor uw volgende project.</p>
        <form class="newsletter-form">
          <input type="email" placeholder="Uw emailadres..." />
          <button type="button" class="btn-send">→</button>
        </form>
        <div class="map-container">
          <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2493.5350937550!2d3.5976523!3d51.4633857!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47c4ba984852066d%3A0xe744e4324f9f44ce!2sAmbachtsweg%204%2C%204387%20BN%20Vlissingen!5e0!3m2!1snl!2snl!4v1737666352000!5m2!1snl!2snl" 
            width="100%" 
            height="180" 
            style="border:0; border-radius: 8px; filter: grayscale(1) invert(1) contrast(1.2) opacity(0.8);" 
            allowfullscreen="" 
            loading="lazy">
          </iframe>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="footer-legal">
        <a href="/privacyverklaring">Privacyverklaring</a>
        <span class="separator">|</span>
        <a href="/algemene-voorwaarden">Algemene Voorwaarden</a>
        <span class="separator">|</span>
        <a href="/disclaimer">Disclaimer</a>
      </div>
      <div class="footer-info">
        <p>&copy; {currentYear} R&D Bouwgroep. Alle rechten voorbehouden.</p>
        <p class="credits">Website door <a href="https://zee-zicht.nl" target="_blank">zee-zicht.nl</a></p>
      </div>
    </div>
  </div>

  <button id="back-to-top" aria-label="Terug naar boven">↑</button>
</footer>

<style>
  .main-footer {
    background-color: #1a1a1a;
    color: white;
    padding: 6rem 0 2rem;
    position: relative;
    overflow: hidden;
    font-size: 0.95rem;
  }

  .watermark-logo {
    position: absolute;
    top: 50%;
    right: -10%;
    transform: translateY(-50%) rotate(-10deg);
    opacity: 0.03;
    pointer-events: none;
    width: 60%;
  }

  .footer-grid {
    display: grid;
    grid-template-columns: 1.5fr 1fr 1fr 1.2fr;
    gap: 4rem;
    position: relative;
    z-index: 2;
    margin-bottom: 4rem;
  }

  /* Col Styles */
  h3 {
    color: white;
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
    position: relative;
    display: inline-block;
  }
  
  h3::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 30px;
    height: 2px;
    background-color: var(--color-primary);
  }

  .footer-logo img {
    width: 180px;
    margin-bottom: 1.5rem;
    filter: brightness(0) invert(1);
  }

  .brand-desc {
    color: #999;
    line-height: 1.8;
    margin-bottom: 2rem;
  }

  .social-links {
    display: flex;
    gap: 1rem;
  }

  .social-links a {
    width: 40px;
    height: 40px;
    background: rgba(255,255,255,0.05);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.3s;
  }

  .social-links a:hover {
    background: var(--color-primary);
    transform: translateY(-3px);
  }

  .links-col ul {
    list-style: none; /* No bullets */
    padding: 0;
    margin: 0;
  }

  .links-col ul li {
    margin-bottom: 0.8rem;
    list-style: none; /* Secondary reset */
  }

  .links-col a, .contact-col a {
    color: #bbb;
    text-decoration: none;
    transition: color 0.3s;
  }

  .links-col a:hover, .contact-col a:hover {
    color: var(--color-primary);
  }

  .contact-list {
    list-style: none; /* No bullets */
    padding: 0;
    margin: 0;
  }

  .contact-list li {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.2rem;
    color: #bbb;
    list-style: none; /* Secondary reset */
  }

  .newsletter-form {
    display: flex;
    margin-bottom: 2rem;
    margin-top: 1rem;
  }

  .newsletter-form input {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    padding: 0.8rem 1rem;
    color: white;
    font-family: inherit;
    width: 100%;
    border-radius: 4px 0 0 4px;
    outline: none;
  }

  .btn-send {
    background: var(--color-primary);
    border: none;
    color: white;
    padding: 0 1.2rem;
    cursor: pointer;
    border-radius: 0 4px 4px 0;
    font-size: 1.2rem;
    transition: background 0.3s;
  }
  
  .btn-send:hover {
    background: #b00000;
  }

  .map-container {
    margin-top: 1rem;
    height: 180px;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(255,255,255,0.1);
  }

  .map-container iframe {
    display: block;
  }

  .footer-bottom {
    border-top: 1px solid rgba(255,255,255,0.05);
    padding-top: 2rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    color: #666;
    font-size: 0.85rem;
    text-align: center;
  }

  .footer-legal {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    margin-bottom: 0.5rem;
  }

  .footer-legal a {
    color: #888;
    text-decoration: none;
    transition: color 0.3s;
  }

  .footer-legal a:hover {
    color: var(--color-primary);
  }

  .footer-legal .separator {
    color: #444;
  }

  .footer-info {
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;
    justify-content: center;
  }

  .credits a {
    color: #888;
  }

  /* Back to Top */
  #back-to-top {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    width: 50px;
    height: 50px;
    background: var(--color-primary);
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 1.5rem;
    cursor: pointer;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.4s;
    z-index: 99;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }

  #back-to-top.visible {
    opacity: 1;
    transform: translateY(0);
  }

  #back-to-top:hover {
    background: white;
    color: var(--color-primary);
  }

  @media (max-width: 1024px) {
    .footer-grid {
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
    }
    .watermark-logo {
      width: 80%;
      right: -20%;
    }
  }

  @media (max-width: 768px) {
    .main-footer {
      padding: 4rem 0 2rem;
    }
    .footer-grid {
      grid-template-columns: 1fr;
      text-align: center;
      gap: 3.5rem;
    }
    .footer-col h3::after {
      left: 50%;
      transform: translateX(-50%);
    }
    .social-links {
      justify-content: center;
    }
    .links-col ul {
      display: flex;
      flex-direction: column;
      align-items: flex-start; /* Aligned to left edge of the block */
      width: max-content;
      margin: 0 auto;
      padding: 0;
      list-style-type: none; /* Absolute reset */
    }
    .links-col ul li {
      margin-bottom: 1rem;
      list-style-type: none; /* Absolute reset */
    }
    .contact-list {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0;
      list-style-type: none; /* Absolute reset */
    }
    .contact-list li {
      justify-content: center;
      text-align: left; /* Keep text left-aligned relative to icon but center the whole block */
      width: max-content;
      margin-left: auto;
      margin-right: auto;
      list-style-type: none; /* Absolute reset */
    }
    .newsletter-form {
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
      margin-bottom: 0;
    }
    .map-container {
      display: none; /* Hide map on mobile as requested */
    }
    .footer-bottom {
      padding-bottom: 7rem; /* Space for sticky button */
    }
    .footer-info {
        flex-direction: column;
        gap: 0.5rem;
    }
    .footer-legal {
        flex-wrap: wrap;
        justify-content: center;
    }
    #back-to-top {
      bottom: 7.5rem; /* Above sticky button */
      right: 1rem;
      width: 45px;
      height: 45px;
      background: rgba(26, 26, 26, 0.9);
      border: 1px solid var(--color-primary);
    }
  }
</style>

<script>
  const btn = document.getElementById('back-to-top');
  
  window.addEventListener('scroll', () => {
    if (window.scrollY > 300) {
      btn.classList.add('visible');
    } else {
      btn.classList.remove('visible');
    }
  });

  btn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
</script>
